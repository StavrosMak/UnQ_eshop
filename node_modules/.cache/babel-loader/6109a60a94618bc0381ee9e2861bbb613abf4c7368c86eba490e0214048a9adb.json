{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useQuery } from 'react-query';\n\n// const useAPI = () => {\nconst useAPI = url => {\n  _s();\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const fetchProducts = async () => {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  };\n  const handleCategoryChange = selectedCategories => {\n    setSelectedCategories(selectedCategories);\n  };\n\n  // const { data: products, isLoading } = useQuery('products', fetchProducts, {\n  //     staleTime: 1000 * 60 * 10\n  // });\n\n  const filteredProducts = selectedCategories.length > 0 && products ? products.filter(product => selectedCategories.includes(product.category)) : products && products.filter(product => [\"men's clothing\", \"women's clothing\", 'jewelery'].includes(product.category));\n  return {\n    handleCategoryChange,\n    products: filteredProducts,\n    isLoading\n  };\n};\n_s(useAPI, \"KmS+J5COdyZ7xuNCrRYNHKInTu4=\");\nexport default useAPI;","map":{"version":3,"names":["useState","useQuery","useAPI","url","_s","selectedCategories","setSelectedCategories","fetchProducts","response","fetch","data","json","handleCategoryChange","filteredProducts","length","products","filter","product","includes","category","isLoading"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/CustomHooks/useAPI.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useQuery } from 'react-query';\n\n\n// const useAPI = () => {\nconst useAPI = (url) => {\n\n\n    const [selectedCategories, setSelectedCategories] = useState([]);\n\n\n    const fetchProducts = async () => {\n        const response = await fetch(url);\n        const data = await response.json();\n        return data;\n    };\n\n    const handleCategoryChange = (selectedCategories) => {\n        setSelectedCategories(selectedCategories);\n    };\n\n    // const { data: products, isLoading } = useQuery('products', fetchProducts, {\n    //     staleTime: 1000 * 60 * 10\n    // });\n\n\n\n    const filteredProducts = selectedCategories.length > 0 && products\n        ? products.filter((product) => selectedCategories.includes(product.category))\n        : products && products.filter((product) => [\"men's clothing\", \"women's clothing\", 'jewelery'].includes(product.category));\n\n\n    return {\n\n        handleCategoryChange,\n        products: filteredProducts,\n        isLoading\n    };\n};\n\nexport default useAPI;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,QAAQ,QAAQ,aAAa;;AAGtC;AACA,MAAMC,MAAM,GAAIC,GAAG,IAAK;EAAAC,EAAA;EAGpB,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAGhE,MAAMO,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,CAAC;IACjC,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;IAClC,OAAOD,IAAI;EACf,CAAC;EAED,MAAME,oBAAoB,GAAIP,kBAAkB,IAAK;IACjDC,qBAAqB,CAACD,kBAAkB,CAAC;EAC7C,CAAC;;EAED;EACA;EACA;;EAIA,MAAMQ,gBAAgB,GAAGR,kBAAkB,CAACS,MAAM,GAAG,CAAC,IAAIC,QAAQ,GAC5DA,QAAQ,CAACC,MAAM,CAAEC,OAAO,IAAKZ,kBAAkB,CAACa,QAAQ,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAC,GAC3EJ,QAAQ,IAAIA,QAAQ,CAACC,MAAM,CAAEC,OAAO,IAAK,CAAC,gBAAgB,EAAE,kBAAkB,EAAE,UAAU,CAAC,CAACC,QAAQ,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAC;EAG7H,OAAO;IAEHP,oBAAoB;IACpBG,QAAQ,EAAEF,gBAAgB;IAC1BO;EACJ,CAAC;AACL,CAAC;AAAChB,EAAA,CAjCIF,MAAM;AAmCZ,eAAeA,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}