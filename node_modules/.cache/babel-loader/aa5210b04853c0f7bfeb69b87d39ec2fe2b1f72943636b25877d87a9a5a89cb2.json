{"ast":null,"code":"import _slicedToArray from\"/home/stv/Documents/Web/React/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{motion}from'framer-motion';import Sidebar from'../SideBar/Sidebar';import ProductCard from'./ProductCard';import{useState,useEffect}from'react';import'./ProductList.css';import useFetch from'../../CustomHooks/useFetch';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductList(_ref){var toggleSidebar=_ref.toggleSidebar,showSidebar=_ref.showSidebar;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedCategories=_useState4[0],setSelectedCategories=_useState4[1];var handleCategoryChange=function handleCategoryChange(selectedCategories){setSelectedCategories(selectedCategories);};var _useFetch=useFetch('https://fakestoreapi.com/products'),data=_useFetch.data,error=_useFetch.error,isLoading=_useFetch.isLoading;useEffect(function(){if(data){var filteredData=data;if(selectedCategories.length){filteredData=data.filter(function(product){return selectedCategories.includes(product.category);});}setProducts(filteredData);}},[data,selectedCategories]);if(isLoading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error.message]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"productListContainer\",children:[/*#__PURE__*/_jsx(Sidebar,{onCategoryChange:handleCategoryChange,toggleSidebar:toggleSidebar,showSidebar:showSidebar}),/*#__PURE__*/_jsxs(\"div\",{className:\"productCardList\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productListHeader\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Products\"}),/*#__PURE__*/_jsx(\"button\",{className:\"filterButton\",onClick:toggleSidebar,children:\"Filter\"})]}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(motion.div,{layout:true,className:\"productListContent\",children:products.map(function(product){return/*#__PURE__*/_jsx(ProductCard,{product:product},product.id);})})]})]});}","map":{"version":3,"names":["motion","Sidebar","ProductCard","useState","useEffect","useFetch","jsx","_jsx","jsxs","_jsxs","ProductList","_ref","toggleSidebar","showSidebar","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","selectedCategories","setSelectedCategories","handleCategoryChange","_useFetch","data","error","isLoading","filteredData","length","filter","product","includes","category","children","message","className","onCategoryChange","onClick","div","layout","map","id"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/components/Product/ProductList.js"],"sourcesContent":["import { motion } from 'framer-motion';\nimport Sidebar from '../SideBar/Sidebar';\nimport ProductCard from './ProductCard';\nimport { useState, useEffect } from 'react';\nimport './ProductList.css';\nimport useFetch from '../../CustomHooks/useFetch';\n\n\nexport default function ProductList({ toggleSidebar, showSidebar }) {\n  const [products, setProducts] = useState([]);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n\n  const handleCategoryChange = (selectedCategories) => {\n    setSelectedCategories(selectedCategories);\n  };\n\n  const { data, error, isLoading } = useFetch('https://fakestoreapi.com/products');\n\n  useEffect(() => {\n    if (data) {\n      let filteredData = data;\n      if (selectedCategories.length) {\n        filteredData = data.filter((product) =>\n          selectedCategories.includes(product.category)\n        );\n      }\n      setProducts(filteredData);\n    }\n  }, [data, selectedCategories]);\n\n  if (isLoading) {\n    return <p>Loading...</p>;\n  }\n  if (error) {\n    return <p>Error: {error.message}</p>;\n  }\n\n\n  return (\n    <div className=\"productListContainer\">\n      <Sidebar\n        onCategoryChange={handleCategoryChange}\n        toggleSidebar={toggleSidebar}\n        showSidebar={showSidebar}\n      />\n      <div className=\"productCardList\">\n        <div className=\"productListHeader\">\n          <h2>Products</h2>\n          <button className=\"filterButton\" onClick={toggleSidebar}>\n            Filter\n          </button>\n        </div>\n        {isLoading ? (\n          <p>Loading...</p>\n        ) : (\n          <motion.div layout className=\"productListContent\">\n            {products.map((product) => (\n              <ProductCard product={product} key={product.id} />\n            ))}\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}