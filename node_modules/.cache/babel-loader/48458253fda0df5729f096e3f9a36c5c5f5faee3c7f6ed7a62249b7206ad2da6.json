{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useCart = () => {\n  _s();\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    const initialCart = JSON.parse(localStorage.getItem('cart')) || [];\n    setCart(initialCart);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }, [cart]);\n  const addToCart = item => {\n    const existingItem = cart.find(cartItem => cartItem.id === item.id);\n    if (existingItem) {\n      const updatedCart = cart.map(cartItem => cartItem.id === item.id ? {\n        ...cartItem,\n        quantity: cartItem.quantity + 1\n      } : cartItem);\n      setCart(updatedCart);\n    } else {\n      const updatedCart = [...cart, {\n        ...item,\n        quantity: 1\n      }];\n      setCart(updatedCart);\n    }\n  };\n  const removeFromCart = itemId => {\n    const updatedCart = cart.filter(cartItem => cartItem.id !== itemId);\n    setCart(updatedCart);\n  };\n  const clearCart = () => {\n    setCart([]);\n  };\n  const cartLength = cart.reduce((total, item) => total + item.quantity, 0);\n  return {\n    cart,\n    cartLength,\n    addToCart,\n    removeFromCart,\n    clearCart\n  };\n};\n_s(useCart, \"gPYbNUmWK8tVVPcrFDrHV23HVlE=\");\nexport default useCart;","map":{"version":3,"names":["useState","useEffect","useCart","_s","cart","setCart","initialCart","JSON","parse","localStorage","getItem","setItem","stringify","addToCart","item","existingItem","find","cartItem","id","updatedCart","map","quantity","removeFromCart","itemId","filter","clearCart","cartLength","reduce","total"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/useCart.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useCart = () => {\n  const [cart, setCart] = useState([]);\n\n  useEffect(() => {\n    const initialCart = JSON.parse(localStorage.getItem('cart')) || [];\n    setCart(initialCart);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }, [cart]);\n\n  const addToCart = (item) => {\n    const existingItem = cart.find((cartItem) => cartItem.id === item.id);\n\n    if (existingItem) {\n      const updatedCart = cart.map((cartItem) =>\n        cartItem.id === item.id ? { ...cartItem, quantity: cartItem.quantity + 1 } : cartItem\n      );\n      setCart(updatedCart);\n    } else {\n      const updatedCart = [...cart, { ...item, quantity: 1 }];\n      setCart(updatedCart);\n    }\n  };\n\n  const removeFromCart = (itemId) => {\n    const updatedCart = cart.filter((cartItem) => cartItem.id !== itemId);\n    setCart(updatedCart);\n  };\n\n  const clearCart = () => {\n    setCart([]);\n  };\n\n  const cartLength = cart.reduce((total, item) => total + item.quantity, 0);\n\n  return { cart, cartLength, addToCart, removeFromCart, clearCart };\n};\n\nexport default useCart;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAEpCC,SAAS,CAAC,MAAM;IACd,MAAMK,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;IAClEL,OAAO,CAACC,WAAW,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAENL,SAAS,CAAC,MAAM;IACdQ,YAAY,CAACE,OAAO,CAAC,MAAM,EAAEJ,IAAI,CAACK,SAAS,CAACR,IAAI,CAAC,CAAC;EACpD,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,MAAMS,SAAS,GAAIC,IAAI,IAAK;IAC1B,MAAMC,YAAY,GAAGX,IAAI,CAACY,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IAErE,IAAIH,YAAY,EAAE;MAChB,MAAMI,WAAW,GAAGf,IAAI,CAACgB,GAAG,CAAEH,QAAQ,IACpCA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,GAAG;QAAE,GAAGD,QAAQ;QAAEI,QAAQ,EAAEJ,QAAQ,CAACI,QAAQ,GAAG;MAAE,CAAC,GAAGJ,QAAQ,CACtF;MACDZ,OAAO,CAACc,WAAW,CAAC;IACtB,CAAC,MAAM;MACL,MAAMA,WAAW,GAAG,CAAC,GAAGf,IAAI,EAAE;QAAE,GAAGU,IAAI;QAAEO,QAAQ,EAAE;MAAE,CAAC,CAAC;MACvDhB,OAAO,CAACc,WAAW,CAAC;IACtB;EACF,CAAC;EAED,MAAMG,cAAc,GAAIC,MAAM,IAAK;IACjC,MAAMJ,WAAW,GAAGf,IAAI,CAACoB,MAAM,CAAEP,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKK,MAAM,CAAC;IACrElB,OAAO,CAACc,WAAW,CAAC;EACtB,CAAC;EAED,MAAMM,SAAS,GAAGA,CAAA,KAAM;IACtBpB,OAAO,CAAC,EAAE,CAAC;EACb,CAAC;EAED,MAAMqB,UAAU,GAAGtB,IAAI,CAACuB,MAAM,CAAC,CAACC,KAAK,EAAEd,IAAI,KAAKc,KAAK,GAAGd,IAAI,CAACO,QAAQ,EAAE,CAAC,CAAC;EAEzE,OAAO;IAAEjB,IAAI;IAAEsB,UAAU;IAAEb,SAAS;IAAES,cAAc;IAAEG;EAAU,CAAC;AACnE,CAAC;AAACtB,EAAA,CAtCID,OAAO;AAwCb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}