{"ast":null,"code":"import _toConsumableArray from\"/home/stv/Documents/Web/React/ecommerce/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/stv/Documents/Web/React/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./Sidebar.css\";import{useState,useEffect}from'react';import categories from\"./sidebarCategories.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Sidebar(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedCategories=_useState2[0],setSelectedCategories=_useState2[1];//selectedCategories used to check the sidebar checkboxes.\nvar onCategoryChange=props.onCategoryChange,toggleSidebar=props.toggleSidebar,showSidebar=props.showSidebar;//destructuring assignment  \nuseEffect(function(){var queryParams=new URLSearchParams(window.location.search);var categoryParam=queryParams.get('category');if(categoryParam){//when i have parameters.\n// use the parameters.\nsetSelectedCategories([categoryParam]);onCategoryChange([categoryParam]);//to pass the categoryChange back to productList\n}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleCheckboxChange=function handleCheckboxChange(event){var checkboxValue=event.target.value;var newSelectedCategories=selectedCategories.includes(checkboxValue)?selectedCategories.filter(function(category){return category!==checkboxValue;}):[].concat(_toConsumableArray(selectedCategories),[checkboxValue]);// Update the selected categories and call the callback function\nsetSelectedCategories(newSelectedCategories);onCategoryChange(newSelectedCategories);// Construct the new URL with the modified parameters\nvar queryParams=new URLSearchParams(window.location.search);queryParams.set(\"category\",newSelectedCategories.join(\",\"));var newUrl=\"\".concat(window.location.pathname,\"?\").concat(queryParams.toString());// Update the URL\nwindow.history.pushState(null,'',newUrl);};return/*#__PURE__*/_jsx(\"div\",{className:\"sidebarContainer \".concat(showSidebar?'active':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebarContent\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Categories\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[categories.map(function(category){return/*#__PURE__*/_jsxs(\"li\",{className:\"categoryItem\",children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"sidebar-Checkbox\",type:\"checkbox\",value:category.name,checked:selectedCategories.includes(category.name),onChange:handleCheckboxChange}),/*#__PURE__*/_jsx(\"p\",{children:category.label})]},category.id);}),/*#__PURE__*/_jsx(\"button\",{className:\"saveBtn\",onClick:toggleSidebar,children:\"Save & Search\"})]})]})});}","map":{"version":3,"names":["useState","useEffect","categories","jsx","_jsx","jsxs","_jsxs","Sidebar","props","_useState","_useState2","_slicedToArray","selectedCategories","setSelectedCategories","onCategoryChange","toggleSidebar","showSidebar","queryParams","URLSearchParams","window","location","search","categoryParam","get","handleCheckboxChange","event","checkboxValue","target","value","newSelectedCategories","includes","filter","category","concat","_toConsumableArray","set","join","newUrl","pathname","toString","history","pushState","className","children","map","type","name","checked","onChange","label","id","onClick"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/components/SideBar/Sidebar.js"],"sourcesContent":["import \"./Sidebar.css\"\nimport { useState, useEffect } from 'react';\nimport categories from \"./sidebarCategories.json\"\n\nexport default function Sidebar(props) {\n\n    const [selectedCategories, setSelectedCategories] = useState([]); //selectedCategories used to check the sidebar checkboxes.\n    const { onCategoryChange, toggleSidebar, showSidebar } = props;//destructuring assignment  \n    \n    useEffect(() => {\n        \n        const queryParams = new URLSearchParams(window.location.search);\n        const categoryParam = queryParams.get('category');\n        if (categoryParam) { //when i have parameters.\n            // use the parameters.\n            setSelectedCategories([categoryParam]);\n            onCategoryChange([categoryParam]); //to pass the categoryChange back to productList\n        }// eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n\n    const handleCheckboxChange = (event) => {\n\n        const checkboxValue = event.target.value;\n        const newSelectedCategories = selectedCategories.includes(checkboxValue)\n            ? selectedCategories.filter(category => category !== checkboxValue)\n            : [...selectedCategories, checkboxValue];\n\n        // Update the selected categories and call the callback function\n        setSelectedCategories(newSelectedCategories);\n        onCategoryChange(newSelectedCategories);\n\n        // Construct the new URL with the modified parameters\n        const queryParams = new URLSearchParams(window.location.search);\n        queryParams.set(\"category\", newSelectedCategories.join(\",\"));\n        const newUrl = `${window.location.pathname}?${queryParams.toString()}`;\n\n        // Update the URL\n        window.history.pushState(null, '', newUrl);\n    };\n\n    return (\n        <div className={`sidebarContainer ${showSidebar ? 'active' : ''}`}>\n            <div className=\"sidebarContent\">\n                <h2>Categories</h2>\n                <ul>\n                    {categories.map((category) => (\n                        <li className=\"categoryItem\" key={category.id}>\n                            <input aria-label=\"sidebar-Checkbox\" type=\"checkbox\" value={category.name}\n                                checked={selectedCategories.includes(category.name)}\n                                onChange={handleCheckboxChange}\n                            />\n                            <p>{category.label}</p>\n                        </li>\n                    ))}\n                    <button className=\"saveBtn\" onClick={toggleSidebar}>Save & Search</button>\n                </ul>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}