{"ast":null,"code":"import { useRef, useCallback } from \"react\";\n/**\n * useObserver\n * @param callback IntersectionObserverCallback\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useObserver = function (callback) {\n  let {\n    root,\n    rootMargin,\n    threshold\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let externalState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  const target = useRef(null);\n  const observer = useRef(null);\n  const setTarget = useCallback(node => {\n    if (target.current && observer.current) {\n      observer.current.unobserve(target.current);\n      observer.current.disconnect();\n      observer.current = null;\n    }\n    if (node) {\n      observer.current = new IntersectionObserver(callback, {\n        root,\n        rootMargin,\n        threshold\n      });\n      observer.current.observe(node);\n      target.current = node;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, root, rootMargin, JSON.stringify(threshold), ...externalState]);\n  return setTarget;\n};\nexport default useObserver;","map":{"version":3,"names":["useRef","useCallback","useObserver","callback","root","rootMargin","threshold","arguments","length","undefined","externalState","target","observer","setTarget","node","current","unobserve","disconnect","IntersectionObserver","observe","JSON","stringify"],"sources":["/home/stv/Documents/Web/React/ecommerce/node_modules/react-hook-inview/dist/esm/useObserver.js"],"sourcesContent":["import { useRef, useCallback, } from \"react\";\n/**\n * useObserver\n * @param callback IntersectionObserverCallback\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useObserver = (callback, { root, rootMargin, threshold } = {}, externalState = []) => {\n    const target = useRef(null);\n    const observer = useRef(null);\n    const setTarget = useCallback((node) => {\n        if (target.current && observer.current) {\n            observer.current.unobserve(target.current);\n            observer.current.disconnect();\n            observer.current = null;\n        }\n        if (node) {\n            observer.current = new IntersectionObserver(callback, { root, rootMargin, threshold });\n            observer.current.observe(node);\n            target.current = node;\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [target, root, rootMargin, JSON.stringify(threshold), ...externalState]);\n    return setTarget;\n};\nexport default useObserver;\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,WAAW,QAAS,OAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,WAAW,GAAG,SAAAA,CAACC,QAAQ,EAA+D;EAAA,IAA7D;IAAEC,IAAI;IAAEC,UAAU;IAAEC;EAAU,CAAC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEG,aAAa,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EACnF,MAAMI,MAAM,GAAGX,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAMY,QAAQ,GAAGZ,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMa,SAAS,GAAGZ,WAAW,CAAEa,IAAI,IAAK;IACpC,IAAIH,MAAM,CAACI,OAAO,IAAIH,QAAQ,CAACG,OAAO,EAAE;MACpCH,QAAQ,CAACG,OAAO,CAACC,SAAS,CAACL,MAAM,CAACI,OAAO,CAAC;MAC1CH,QAAQ,CAACG,OAAO,CAACE,UAAU,EAAE;MAC7BL,QAAQ,CAACG,OAAO,GAAG,IAAI;IAC3B;IACA,IAAID,IAAI,EAAE;MACNF,QAAQ,CAACG,OAAO,GAAG,IAAIG,oBAAoB,CAACf,QAAQ,EAAE;QAAEC,IAAI;QAAEC,UAAU;QAAEC;MAAU,CAAC,CAAC;MACtFM,QAAQ,CAACG,OAAO,CAACI,OAAO,CAACL,IAAI,CAAC;MAC9BH,MAAM,CAACI,OAAO,GAAGD,IAAI;IACzB;IACA;EACJ,CAAC,EAAE,CAACH,MAAM,EAAEP,IAAI,EAAEC,UAAU,EAAEe,IAAI,CAACC,SAAS,CAACf,SAAS,CAAC,EAAE,GAAGI,aAAa,CAAC,CAAC;EAC3E,OAAOG,SAAS;AACpB,CAAC;AACD,eAAeX,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}