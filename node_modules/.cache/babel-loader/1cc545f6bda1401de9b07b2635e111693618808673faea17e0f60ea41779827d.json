{"ast":null,"code":"import _slicedToArray from\"/home/stv/Documents/Web/React/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./FeaturedCollectionSection.css\";import ProductCard from\"../Product/ProductCard\";import{motion}from'framer-motion';import categoriesData from'../data/Categories_Info.json';import useFetch from\"../../CustomHooks/useFetch\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var productLimit=4;export default function FeaturedCollections(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(categoriesData.categories[0].CategoryName),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useFetch=useFetch('https://fakestoreapi.com/products'),fetchedProducts=_useFetch.data,isLoading=_useFetch.loading;useEffect(function(){if(fetchedProducts){var filteredData=fetchedProducts.filter(function(product){return product.category===category;});var limitedData=filteredData.slice(0,productLimit);setProducts(limitedData);}},[fetchedProducts,category]);return/*#__PURE__*/_jsx(\"section\",{className:\"featuredCollections\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"featuredCollectionsContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"featuredCollections--Header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Featured Collections\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"featuredCollections--List\",children:/*#__PURE__*/_jsx(\"ul\",{children:categoriesData.categories.map(function(categoryItem){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:category===categoryItem.CategoryName?'active':'',onClick:function onClick(){return setCategory(categoryItem.CategoryName);},children:categoryItem.CategoryTitle})},categoryItem.categoryID);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"featured--productCardList\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):products.map(function(product){return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.5},children:/*#__PURE__*/_jsx(ProductCard,{product:product})},product.id);})})]})});}","map":{"version":3,"names":["React","useState","useEffect","ProductCard","motion","categoriesData","useFetch","jsx","_jsx","jsxs","_jsxs","productLimit","FeaturedCollections","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","categories","CategoryName","_useState4","category","setCategory","_useFetch","fetchedProducts","data","isLoading","loading","filteredData","filter","product","limitedData","slice","className","children","map","categoryItem","onClick","CategoryTitle","categoryID","div","initial","opacity","animate","exit","transition","duration","id"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/components/FeaturedCollectionSection/FeaturedCollectionSection.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./FeaturedCollectionSection.css\";\nimport ProductCard from \"../Product/ProductCard\";\nimport { motion } from 'framer-motion'\nimport categoriesData from '../data/Categories_Info.json'\nimport useFetch from \"../../CustomHooks/useFetch\"\nconst productLimit = 4;\n\n\nexport default function FeaturedCollections() {\n    const [products, setProducts] = useState([]);\n    const [category, setCategory] = useState(categoriesData.categories[0].CategoryName);\n\n    const { data: fetchedProducts, loading: isLoading } = useFetch('https://fakestoreapi.com/products');\n\n    useEffect(() => {\n        if (fetchedProducts) {\n            const filteredData = fetchedProducts.filter((product) => product.category === category);\n            const limitedData = filteredData.slice(0, productLimit);\n            setProducts(limitedData);\n        }\n    }, [fetchedProducts, category]);\n\n    return (\n        <section className=\"featuredCollections\">\n            <div className=\"featuredCollectionsContainer\">\n                <div className=\"featuredCollections--Header\">\n                    <h2>Featured Collections</h2>\n                </div>\n                <div className=\"featuredCollections--List\">\n                    <ul>\n                        {categoriesData.categories.map((categoryItem) => (\n                            <li key={categoryItem.categoryID}>\n                                <button\n                                    className={category === categoryItem.CategoryName ? 'active' : ''}\n                                    onClick={() => setCategory(categoryItem.CategoryName)}\n                                >\n                                    {categoryItem.CategoryTitle}\n                                </button>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n                <div className=\"featured--productCardList\">\n                    {isLoading ? (<p>Loading...</p>)\n                        : (products.map((product) => (\n                            <motion.div\n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 1 }}\n                                exit={{ opacity: 0 }}\n                                transition={{ duration: 0.5 }}\n                                key={product.id}\n                            >\n                                <ProductCard product={product} />\n                            </motion.div>\n                        ))\n                        )}\n                </div>\n            </div>\n        </section>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}