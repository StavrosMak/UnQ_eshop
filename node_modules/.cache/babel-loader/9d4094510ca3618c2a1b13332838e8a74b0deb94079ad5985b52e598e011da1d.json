{"ast":null,"code":"import _slicedToArray from\"/home/stv/Documents/Web/React/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./FeaturedCollectionSection.css\";import ProductCard from\"../Product/ProductCard\";import{motion}from'framer-motion';import categoriesData from'../data/Categories_Info.json';import useAPI from\"../../CustomHooks/useAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var productLimit=4;export default function FeaturedCollections(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(categoriesData.categories[0].CategoryName),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useAPI=useAPI('https://fakestoreapi.com/products'),fetchedProducts=_useAPI.products,isLoading=_useAPI.isLoading;//fetch using the customHook.\nuseEffect(function(){//filter data. - get the correct category.\nif(fetchedProducts){var filteredData=fetchedProducts.filter(function(product){return product.category===category;});var limitedData=filteredData.slice(0,productLimit);setProducts(limitedData);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[category,isLoading]);return/*#__PURE__*/_jsx(\"section\",{className:\"featuredCollections\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"featuredCollectionsContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"featuredCollections--Header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Featured Collections\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"featuredCollections--List\",children:/*#__PURE__*/_jsx(\"ul\",{children:categoriesData.categories.map(function(categoryItem){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:category===categoryItem.CategoryName?'active':'',onClick:function onClick(){return setCategory(categoryItem.CategoryName);},children:categoryItem.CategoryTitle})},categoryItem.categoryID);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"featured--productCardList\",children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):products.map(function(product){return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.5},children:/*#__PURE__*/_jsx(ProductCard,{product:product})},product.id);})})]})});}","map":{"version":3,"names":["React","useState","useEffect","ProductCard","motion","categoriesData","useAPI","jsx","_jsx","jsxs","_jsxs","productLimit","FeaturedCollections","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","categories","CategoryName","_useState4","category","setCategory","_useAPI","fetchedProducts","isLoading","filteredData","filter","product","limitedData","slice","className","children","map","categoryItem","onClick","CategoryTitle","categoryID","div","initial","opacity","animate","exit","transition","duration","id"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/components/FeaturedCollectionSection/FeaturedCollectionSection.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./FeaturedCollectionSection.css\";\nimport ProductCard from \"../Product/ProductCard\";\nimport { motion } from 'framer-motion'\nimport categoriesData from '../data/Categories_Info.json'\nimport useAPI from \"../../CustomHooks/useAPI\";\n\nconst productLimit = 4;\n\nexport default function FeaturedCollections() {\n    const [products, setProducts] = useState([]);\n    const [category, setCategory] = useState(categoriesData.categories[0].CategoryName);\n    const { products: fetchedProducts, isLoading } = useAPI('https://fakestoreapi.com/products'); //fetch using the customHook.\n\n    useEffect(() => { //filter data. - get the correct category.\n        if (fetchedProducts) {\n            const filteredData = fetchedProducts.filter((product) => product.category === category);\n            const limitedData = filteredData.slice(0, productLimit);\n            setProducts(limitedData);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [category, isLoading]);\n\n    return (\n        <section className=\"featuredCollections\">\n            <div className=\"featuredCollectionsContainer\">\n                <div className=\"featuredCollections--Header\">\n                    <h2>Featured Collections</h2>\n                </div>\n                <div className=\"featuredCollections--List\">\n                    <ul>\n                        {categoriesData.categories.map((categoryItem) => (\n                            <li key={categoryItem.categoryID}>\n                                <button\n                                    className={category === categoryItem.CategoryName ? 'active' : ''}\n                                    onClick={() => setCategory(categoryItem.CategoryName)}\n                                >\n                                    {categoryItem.CategoryTitle}\n                                </button>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n                <div className=\"featured--productCardList\">\n                    {isLoading ? (<p>Loading...</p>)\n                        : (products.map((product) => (\n                            <motion.div\n                                initial={{ opacity: 0 }}\n                                animate={{ opacity: 1 }}\n                                exit={{ opacity: 0 }}\n                                transition={{ duration: 0.5 }}\n                                key={product.id}\n                            >\n                                <ProductCard product={product} />\n                            </motion.div>\n                        ))\n                        )}\n\n                </div>\n            </div>\n        </section>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}