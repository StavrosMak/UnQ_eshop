{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nconst useAPI = () => {\n  _s();\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const fetchProducts = async () => {\n    const response = await fetch('https://fakestoreapi.com/products');\n    const data = await response.json();\n    return data;\n  };\n  const handleCategoryChange = selectedCategories => {\n    setSelectedCategories(selectedCategories);\n  };\n  const {\n    data: products,\n    isLoading\n  } = useQuery('products', fetchProducts, {\n    staleTime: 1000 * 60 * 10\n  });\n  const filteredProducts = selectedCategories.length > 0 && products ? products.filter(product => selectedCategories.includes(product.category)) : products && products.filter(product => [\"men's clothing\", \"women's clothing\", 'jewelery'].includes(product.category));\n  return {\n    selectedCategories,\n    handleCategoryChange,\n    products: filteredProducts,\n    isLoading\n  };\n};\n_s(useAPI, \"nV1Tyu0b8Wcz2Cz9bj5nZuXooRo=\", true);\nexport default useAPI;","map":{"version":3,"names":["useState","useAPI","_s","selectedCategories","setSelectedCategories","fetchProducts","response","fetch","data","json","handleCategoryChange","products","isLoading","useQuery","staleTime","filteredProducts","length","filter","product","includes","category"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/CustomHooks/useAPI.js"],"sourcesContent":["import { useState } from \"react\";\n\n\n\nconst useAPI = () => {\n\n\n    const [selectedCategories, setSelectedCategories] = useState([]);\n\n\n    const fetchProducts = async () => {\n        const response = await fetch('https://fakestoreapi.com/products');\n        const data = await response.json();\n        return data;\n    };\n\n    const handleCategoryChange = (selectedCategories) => {\n        setSelectedCategories(selectedCategories);\n    };\n\n    const { data: products, isLoading } = useQuery('products', fetchProducts, {\n        staleTime: 1000 * 60 * 10\n    });\n\n\n\n    const filteredProducts = selectedCategories.length > 0 && products\n        ? products.filter((product) => selectedCategories.includes(product.category))\n        : products && products.filter((product) => [\"men's clothing\", \"women's clothing\", 'jewelery'].includes(product.category));\n\n\n    return {\n        selectedCategories,\n        handleCategoryChange,\n        products: filteredProducts,\n        isLoading\n    };\n};\n\nexport default useAPI;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAIhC,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAGjB,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGJ,QAAQ,CAAC,EAAE,CAAC;EAGhE,MAAMK,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmC,CAAC;IACjE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;IAClC,OAAOD,IAAI;EACf,CAAC;EAED,MAAME,oBAAoB,GAAIP,kBAAkB,IAAK;IACjDC,qBAAqB,CAACD,kBAAkB,CAAC;EAC7C,CAAC;EAED,MAAM;IAAEK,IAAI,EAAEG,QAAQ;IAAEC;EAAU,CAAC,GAAGC,QAAQ,CAAC,UAAU,EAAER,aAAa,EAAE;IACtES,SAAS,EAAE,IAAI,GAAG,EAAE,GAAG;EAC3B,CAAC,CAAC;EAIF,MAAMC,gBAAgB,GAAGZ,kBAAkB,CAACa,MAAM,GAAG,CAAC,IAAIL,QAAQ,GAC5DA,QAAQ,CAACM,MAAM,CAAEC,OAAO,IAAKf,kBAAkB,CAACgB,QAAQ,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAC,GAC3ET,QAAQ,IAAIA,QAAQ,CAACM,MAAM,CAAEC,OAAO,IAAK,CAAC,gBAAgB,EAAE,kBAAkB,EAAE,UAAU,CAAC,CAACC,QAAQ,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAC;EAG7H,OAAO;IACHjB,kBAAkB;IAClBO,oBAAoB;IACpBC,QAAQ,EAAEI,gBAAgB;IAC1BH;EACJ,CAAC;AACL,CAAC;AAACV,EAAA,CAjCID,MAAM;AAmCZ,eAAeA,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}