{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useQuery } from 'react-query';\n\n// const useAPI = () => {\nconst useAPI = url => {\n  _s();\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const fetchProducts = async () => {\n    const response = await fetch(url);\n    // const response = await fetch('https://fakestoreapi.com/products');\n    const data = await response.json();\n    return data;\n  };\n\n  // const handleCategoryChange = (selectedCategories) => {\n  //     setSelectedCategories(selectedCategories);\n  // };\n\n  const handleCategoryChange = selectedCategories => {\n    setSelectedCategories(prevSelectedCategories => [...prevSelectedCategories, ...selectedCategories]);\n  };\n  const {\n    data: products,\n    isLoading\n  } = useQuery('products', fetchProducts, {\n    staleTime: 1000 * 60 * 10\n  });\n  const filteredProducts = selectedCategories.length > 0 && products ? products.filter(product => selectedCategories.includes(product.category)) : products && products.filter(product => [\"men's clothing\", \"women's clothing\", 'jewelery'].includes(product.category));\n  return {\n    handleCategoryChange,\n    products: filteredProducts,\n    isLoading\n  };\n};\n_s(useAPI, \"nV1Tyu0b8Wcz2Cz9bj5nZuXooRo=\", false, function () {\n  return [useQuery];\n});\nexport default useAPI;","map":{"version":3,"names":["useState","useQuery","useAPI","url","_s","selectedCategories","setSelectedCategories","fetchProducts","response","fetch","data","json","handleCategoryChange","prevSelectedCategories","products","isLoading","staleTime","filteredProducts","length","filter","product","includes","category"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/CustomHooks/useAPI.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useQuery } from 'react-query';\n\n\n// const useAPI = () => {\nconst useAPI = (url) => {\n\n\n    const [selectedCategories, setSelectedCategories] = useState([]);\n\n\n    const fetchProducts = async () => {\n        const response = await fetch(url);\n        // const response = await fetch('https://fakestoreapi.com/products');\n        const data = await response.json();\n        return data;\n    };\n\n    // const handleCategoryChange = (selectedCategories) => {\n    //     setSelectedCategories(selectedCategories);\n    // };\n\nconst handleCategoryChange = (selectedCategories) => {\n  setSelectedCategories(prevSelectedCategories => [...prevSelectedCategories, ...selectedCategories]);\n};\n    const { data: products, isLoading } = useQuery('products', fetchProducts, {\n        staleTime: 1000 * 60 * 10\n    });\n\n\n\n    const filteredProducts = selectedCategories.length > 0 && products\n        ? products.filter((product) => selectedCategories.includes(product.category))\n        : products && products.filter((product) => [\"men's clothing\", \"women's clothing\", 'jewelery'].includes(product.category));\n\n\n    return {\n\n        handleCategoryChange,\n        products: filteredProducts,\n        isLoading\n    };\n};\n\nexport default useAPI;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,QAAQ,QAAQ,aAAa;;AAGtC;AACA,MAAMC,MAAM,GAAIC,GAAG,IAAK;EAAAC,EAAA;EAGpB,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAGhE,MAAMO,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,CAAC;IACjC;IACA,MAAMO,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;IAClC,OAAOD,IAAI;EACf,CAAC;;EAED;EACA;EACA;;EAEJ,MAAME,oBAAoB,GAAIP,kBAAkB,IAAK;IACnDC,qBAAqB,CAACO,sBAAsB,IAAI,CAAC,GAAGA,sBAAsB,EAAE,GAAGR,kBAAkB,CAAC,CAAC;EACrG,CAAC;EACG,MAAM;IAAEK,IAAI,EAAEI,QAAQ;IAAEC;EAAU,CAAC,GAAGd,QAAQ,CAAC,UAAU,EAAEM,aAAa,EAAE;IACtES,SAAS,EAAE,IAAI,GAAG,EAAE,GAAG;EAC3B,CAAC,CAAC;EAIF,MAAMC,gBAAgB,GAAGZ,kBAAkB,CAACa,MAAM,GAAG,CAAC,IAAIJ,QAAQ,GAC5DA,QAAQ,CAACK,MAAM,CAAEC,OAAO,IAAKf,kBAAkB,CAACgB,QAAQ,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAC,GAC3ER,QAAQ,IAAIA,QAAQ,CAACK,MAAM,CAAEC,OAAO,IAAK,CAAC,gBAAgB,EAAE,kBAAkB,EAAE,UAAU,CAAC,CAACC,QAAQ,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAC;EAG7H,OAAO;IAEHV,oBAAoB;IACpBE,QAAQ,EAAEG,gBAAgB;IAC1BF;EACJ,CAAC;AACL,CAAC;AAACX,EAAA,CArCIF,MAAM;EAAA,QAoB8BD,QAAQ;AAAA;AAmBlD,eAAeC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}