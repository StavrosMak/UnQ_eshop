{"ast":null,"code":"import { useEffect, useState, useCallback } from \"react\";\nimport useObserver from \"./useObserver\";\n/**\n * useInView\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useInView = function () {\n  let {\n    root,\n    rootMargin,\n    threshold,\n    unobserveOnEnter,\n    target,\n    onEnter,\n    onLeave,\n    defaultInView\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let externalState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const [state, setState] = useState({\n    inView: defaultInView || false,\n    entry: null,\n    observer: null\n  });\n  const callback = useCallback((_ref, observer) => {\n    let [entry] = _ref;\n    const inThreshold = observer.thresholds.some(t => entry.intersectionRatio >= t);\n    const inView = inThreshold && entry.isIntersecting;\n    setState({\n      inView,\n      entry,\n      observer\n    });\n    // unobserveOnEnter\n    if (inView && unobserveOnEnter) {\n      observer.unobserve(entry.target);\n      observer.disconnect();\n    }\n    // Legacy callbacks\n    if (inView) {\n      onEnter === null || onEnter === void 0 ? void 0 : onEnter(entry, observer);\n    } else {\n      onLeave === null || onLeave === void 0 ? void 0 : onLeave(entry, observer);\n    }\n  }, [onEnter, onLeave, unobserveOnEnter]);\n  const setTarget = useObserver(callback, {\n    root,\n    rootMargin,\n    threshold\n  }, [unobserveOnEnter, ...externalState]);\n  // Legacy 'target' option\n  useEffect(() => {\n    if (target === null || target === void 0 ? void 0 : target.current) setTarget(target.current);\n  }, [target, setTarget]);\n  return [setTarget, state.inView, state.entry, state.observer];\n};\nexport default useInView;","map":{"version":3,"names":["useEffect","useState","useCallback","useObserver","useInView","root","rootMargin","threshold","unobserveOnEnter","target","onEnter","onLeave","defaultInView","arguments","length","undefined","externalState","state","setState","inView","entry","observer","callback","_ref","inThreshold","thresholds","some","t","intersectionRatio","isIntersecting","unobserve","disconnect","setTarget","current"],"sources":["/home/stv/Documents/Web/React/ecommerce/node_modules/react-hook-inview/dist/esm/useInView.js"],"sourcesContent":["import { useEffect, useState, useCallback, } from \"react\";\nimport useObserver from \"./useObserver\";\n/**\n * useInView\n * @param options IntersectionObserverInit\n * @param externalState React.ComponentState[]\n */\nconst useInView = ({ root, rootMargin, threshold, unobserveOnEnter, target, onEnter, onLeave, defaultInView } = {}, externalState = []) => {\n    const [state, setState] = useState({\n        inView: defaultInView || false,\n        entry: null,\n        observer: null,\n    });\n    const callback = useCallback(([entry], observer) => {\n        const inThreshold = observer.thresholds.some((t) => entry.intersectionRatio >= t);\n        const inView = inThreshold && entry.isIntersecting;\n        setState({\n            inView,\n            entry,\n            observer,\n        });\n        // unobserveOnEnter\n        if (inView && unobserveOnEnter) {\n            observer.unobserve(entry.target);\n            observer.disconnect();\n        }\n        // Legacy callbacks\n        if (inView) {\n            onEnter === null || onEnter === void 0 ? void 0 : onEnter(entry, observer);\n        }\n        else {\n            onLeave === null || onLeave === void 0 ? void 0 : onLeave(entry, observer);\n        }\n    }, [onEnter, onLeave, unobserveOnEnter]);\n    const setTarget = useObserver(callback, { root, rootMargin, threshold }, [unobserveOnEnter, ...externalState]);\n    // Legacy 'target' option\n    useEffect(() => {\n        if (target === null || target === void 0 ? void 0 : target.current)\n            setTarget(target.current);\n    }, [target, setTarget]);\n    return [setTarget, state.inView, state.entry, state.observer];\n};\nexport default useInView;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAS,OAAO;AACzD,OAAOC,WAAW,MAAM,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA,MAAMC,SAAS,GAAG,SAAAA,CAAA,EAAyH;EAAA,IAAxH;IAAEC,IAAI;IAAEC,UAAU;IAAEC,SAAS;IAAEC,gBAAgB;IAAEC,MAAM;IAAEC,OAAO;IAAEC,OAAO;IAAEC;EAAc,CAAC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEG,aAAa,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAClI,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC;IAC/BkB,MAAM,EAAEP,aAAa,IAAI,KAAK;IAC9BQ,KAAK,EAAE,IAAI;IACXC,QAAQ,EAAE;EACd,CAAC,CAAC;EACF,MAAMC,QAAQ,GAAGpB,WAAW,CAAC,CAAAqB,IAAA,EAAUF,QAAQ,KAAK;IAAA,IAAtB,CAACD,KAAK,CAAC,GAAAG,IAAA;IACjC,MAAMC,WAAW,GAAGH,QAAQ,CAACI,UAAU,CAACC,IAAI,CAAEC,CAAC,IAAKP,KAAK,CAACQ,iBAAiB,IAAID,CAAC,CAAC;IACjF,MAAMR,MAAM,GAAGK,WAAW,IAAIJ,KAAK,CAACS,cAAc;IAClDX,QAAQ,CAAC;MACLC,MAAM;MACNC,KAAK;MACLC;IACJ,CAAC,CAAC;IACF;IACA,IAAIF,MAAM,IAAIX,gBAAgB,EAAE;MAC5Ba,QAAQ,CAACS,SAAS,CAACV,KAAK,CAACX,MAAM,CAAC;MAChCY,QAAQ,CAACU,UAAU,EAAE;IACzB;IACA;IACA,IAAIZ,MAAM,EAAE;MACRT,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACU,KAAK,EAAEC,QAAQ,CAAC;IAC9E,CAAC,MACI;MACDV,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACS,KAAK,EAAEC,QAAQ,CAAC;IAC9E;EACJ,CAAC,EAAE,CAACX,OAAO,EAAEC,OAAO,EAAEH,gBAAgB,CAAC,CAAC;EACxC,MAAMwB,SAAS,GAAG7B,WAAW,CAACmB,QAAQ,EAAE;IAAEjB,IAAI;IAAEC,UAAU;IAAEC;EAAU,CAAC,EAAE,CAACC,gBAAgB,EAAE,GAAGQ,aAAa,CAAC,CAAC;EAC9G;EACAhB,SAAS,CAAC,MAAM;IACZ,IAAIS,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACwB,OAAO,EAC9DD,SAAS,CAACvB,MAAM,CAACwB,OAAO,CAAC;EACjC,CAAC,EAAE,CAACxB,MAAM,EAAEuB,SAAS,CAAC,CAAC;EACvB,OAAO,CAACA,SAAS,EAAEf,KAAK,CAACE,MAAM,EAAEF,KAAK,CAACG,KAAK,EAAEH,KAAK,CAACI,QAAQ,CAAC;AACjE,CAAC;AACD,eAAejB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}