{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useCart = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const [cartVisible, setCartVisible] = useState(false);\n  _s(useEffect(_s(() => {\n    _s();\n    //!init\n    const initialCart = JSON.parse(localStorage.getItem('cart')) || [];\n    const [cart, setCart] = useState([]);\n    setCart(initialCart);\n  }, \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\"), []), \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\");\n\n  // useEffect(() => {\n  //   localStorage.setItem('cart', JSON.stringify(cart));\n  //   setCartLength(cart.reduce((total, item) => total + item.quantity, 0));\n  // }, [cart]);\n\n  // const handleAddToCart = (item) => {\n  //   const existingItem = cart.find((cartItem) => cartItem.id === item.id);\n\n  //   if (existingItem) {\n  //     setCart(cart.map((cartItem) => (cartItem.id === item.id ? { ...cartItem, quantity: cartItem.quantity + 1 } : cartItem)));\n  //   } else {\n  //     setCart([...cart, { ...item, quantity: 1 }]);\n  //   }\n  // };\n\n  useEffect(() => {\n    //!setItem\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }, [cart]);\n  const addToCart = item => {\n    const existingItem = cart.find(cartItem => cartItem.id === item.id);\n    if (existingItem) {\n      setCart(cart.map(cartItem => cartItem.id === item.id ? {\n        ...cartItem,\n        quantity: cartItem.quantity + 1\n      } : cartItem));\n    } else {\n      setCart([...cart, {\n        ...item,\n        quantity: 1\n      }]);\n    }\n  };\n  const handleAddToCart = item => {\n    const existingItem = cart.find(cartItem => cartItem.id === item.id);\n    if (existingItem) {\n      setCart(cart.map(cartItem => cartItem.id === item.id ? {\n        ...cartItem,\n        quantity: cartItem.quantity + 1\n      } : cartItem));\n    } else {\n      setCart([...cart, {\n        ...item,\n        quantity: 1\n      }]);\n    }\n  };\n  const setCartLength = () => {\n    // Calculate the cart length based on the updated cart state\n  };\n  const cartLength = cart.reduce((total, item) => total + item.quantity, 0);\n  return {\n    handleAddToCart,\n    setCartLength,\n    setCart,\n    cart,\n    cartLength,\n    addToCart,\n    cartVisible,\n    setCartVisible,\n    setCart,\n    setCartLength\n  };\n};\n_s2(useCart, \"+3F6wJkIIjNS7FCX4LRL/BtiKBk=\");\nexport default useCart;","map":{"version":3,"names":["useState","useEffect","useCart","_s2","_s","$RefreshSig$","cartVisible","setCartVisible","initialCart","JSON","parse","localStorage","getItem","cart","setCart","setItem","stringify","addToCart","item","existingItem","find","cartItem","id","map","quantity","handleAddToCart","setCartLength","cartLength","reduce","total"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/useCart.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nconst useCart = () => {\n\n\n\n    const [cartVisible, setCartVisible] = useState(false);\n  \n\n   \n\n    useEffect(() => { //!init\n      const initialCart = JSON.parse(localStorage.getItem('cart')) || [];\n      const [cart, setCart] = useState([]);\n      setCart(initialCart);\n    }, []);\n\n\n\n\n  // useEffect(() => {\n  //   localStorage.setItem('cart', JSON.stringify(cart));\n  //   setCartLength(cart.reduce((total, item) => total + item.quantity, 0));\n  // }, [cart]);\n\n  // const handleAddToCart = (item) => {\n  //   const existingItem = cart.find((cartItem) => cartItem.id === item.id);\n\n  //   if (existingItem) {\n  //     setCart(cart.map((cartItem) => (cartItem.id === item.id ? { ...cartItem, quantity: cartItem.quantity + 1 } : cartItem)));\n  //   } else {\n  //     setCart([...cart, { ...item, quantity: 1 }]);\n  //   }\n  // };\n\n  \n    useEffect(() => { //!setItem\n      localStorage.setItem('cart', JSON.stringify(cart));\n    }, [cart]);\n  \n    const addToCart = (item) => {\n        const existingItem = cart.find((cartItem) => cartItem.id === item.id);\n    \n        if (existingItem) {\n          setCart(cart.map((cartItem) =>\n            cartItem.id === item.id ? { ...cartItem, quantity: cartItem.quantity + 1 } : cartItem\n          ));\n        } else {\n          setCart([...cart, { ...item, quantity: 1 }]);\n        }\n      };\n    \n      const handleAddToCart = (item) => {\n        const existingItem = cart.find((cartItem) => cartItem.id === item.id);\n    \n        if (existingItem) {\n          setCart(cart.map((cartItem) =>\n            cartItem.id === item.id ? { ...cartItem, quantity: cartItem.quantity + 1 } : cartItem\n          ));\n        } else {\n          setCart([...cart, { ...item, quantity: 1 }]);\n        }\n      };\n    \n    const setCartLength = () => {\n      // Calculate the cart length based on the updated cart state\n    };\n  \n    const cartLength = cart.reduce((total, item) => total + item.quantity, 0);\n  \n    return {handleAddToCart,setCartLength, setCart ,cart, cartLength, addToCart,  cartVisible, setCartVisible, setCart, setCartLength };\n  };\n  \n  export default useCart;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAIlB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAKrDI,EAAA,CAAAH,SAAS,CAAAG,EAAA,CAAC,MAAM;IAAAA,EAAA;IAAE;IAChB,MAAMI,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;IAClE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;IACpCc,OAAO,CAACN,WAAW,CAAC;EACtB,CAAC,mCAAE,EAAE,CAAC;;EAKR;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAGEP,SAAS,CAAC,MAAM;IAAE;IAChBU,YAAY,CAACI,OAAO,CAAC,MAAM,EAAEN,IAAI,CAACO,SAAS,CAACH,IAAI,CAAC,CAAC;EACpD,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,MAAMI,SAAS,GAAIC,IAAI,IAAK;IACxB,MAAMC,YAAY,GAAGN,IAAI,CAACO,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IAErE,IAAIH,YAAY,EAAE;MAChBL,OAAO,CAACD,IAAI,CAACU,GAAG,CAAEF,QAAQ,IACxBA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,GAAG;QAAE,GAAGD,QAAQ;QAAEG,QAAQ,EAAEH,QAAQ,CAACG,QAAQ,GAAG;MAAE,CAAC,GAAGH,QAAQ,CACtF,CAAC;IACJ,CAAC,MAAM;MACLP,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE;QAAE,GAAGK,IAAI;QAAEM,QAAQ,EAAE;MAAE,CAAC,CAAC,CAAC;IAC9C;EACF,CAAC;EAED,MAAMC,eAAe,GAAIP,IAAI,IAAK;IAChC,MAAMC,YAAY,GAAGN,IAAI,CAACO,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IAErE,IAAIH,YAAY,EAAE;MAChBL,OAAO,CAACD,IAAI,CAACU,GAAG,CAAEF,QAAQ,IACxBA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,GAAG;QAAE,GAAGD,QAAQ;QAAEG,QAAQ,EAAEH,QAAQ,CAACG,QAAQ,GAAG;MAAE,CAAC,GAAGH,QAAQ,CACtF,CAAC;IACJ,CAAC,MAAM;MACLP,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE;QAAE,GAAGK,IAAI;QAAEM,QAAQ,EAAE;MAAE,CAAC,CAAC,CAAC;IAC9C;EACF,CAAC;EAEH,MAAME,aAAa,GAAGA,CAAA,KAAM;IAC1B;EAAA,CACD;EAED,MAAMC,UAAU,GAAGd,IAAI,CAACe,MAAM,CAAC,CAACC,KAAK,EAAEX,IAAI,KAAKW,KAAK,GAAGX,IAAI,CAACM,QAAQ,EAAE,CAAC,CAAC;EAEzE,OAAO;IAACC,eAAe;IAACC,aAAa;IAAEZ,OAAO;IAAED,IAAI;IAAEc,UAAU;IAAEV,SAAS;IAAGX,WAAW;IAAEC,cAAc;IAAEO,OAAO;IAAEY;EAAc,CAAC;AACrI,CAAC;AAACvB,GAAA,CArEED,OAAO;AAuEX,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}