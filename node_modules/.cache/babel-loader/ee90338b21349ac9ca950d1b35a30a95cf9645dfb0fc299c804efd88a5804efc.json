{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useCart = () => {\n  _s();\n  const [cart, setCart] = useState([]);\n  const [cartVisible, setCartVisible] = useState(false);\n  useEffect(() => {\n    //!init\n    const initialCart = JSON.parse(localStorage.getItem('cart')) || [];\n    setCart(initialCart);\n  }, []);\n  useEffect(() => {\n    //!setItem\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }, [cart]);\n  const addToCart = item => {\n    //!add to cart\n    const existingItem = cart.find(cartItem => cartItem.id === item.id);\n    if (existingItem) {\n      const updatedCart = cart.map(cartItem => cartItem.id === item.id ? {\n        ...cartItem,\n        quantity: cartItem.quantity + 1\n      } : cartItem);\n      setCart(updatedCart);\n    } else {\n      const updatedCart = [...cart, {\n        ...item,\n        quantity: 1\n      }];\n      setCart(updatedCart);\n    }\n  };\n  const handleAddToCart = item => {\n    const existingItem = cart.find(cartItem => cartItem.id === item.id);\n    if (existingItem) {\n      setCart(cart.map(cartItem => cartItem.id === item.id ? {\n        ...cartItem,\n        quantity: cartItem.quantity + 1\n      } : cartItem));\n    } else {\n      setCart([...cart, {\n        ...item,\n        quantity: 1\n      }]);\n    }\n  };\n  const setCartLength = () => {\n    // Calculate the cart length based on the updated cart state\n  };\n  const cartLength = cart.reduce((total, item) => total + item.quantity, 0);\n  return {\n    handleAddToCart,\n    setCartLength,\n    setCart,\n    cart,\n    cartLength,\n    addToCart,\n    cartVisible,\n    setCartVisible,\n    setCart,\n    setCartLength\n  };\n};\n_s(useCart, \"K/DdbPHG5NhtD7D+zzrnQCF/JtE=\");\nexport default useCart;","map":{"version":3,"names":["useState","useEffect","useCart","_s","cart","setCart","cartVisible","setCartVisible","initialCart","JSON","parse","localStorage","getItem","setItem","stringify","addToCart","item","existingItem","find","cartItem","id","updatedCart","map","quantity","handleAddToCart","setCartLength","cartLength","reduce","total"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/useCart.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nconst useCart = () => {\n    const [cart, setCart] = useState([]);\n    const [cartVisible, setCartVisible] = useState(false);\n\n\n\n    useEffect(() => { //!init\n        const initialCart = JSON.parse(localStorage.getItem('cart')) || [];\n        setCart(initialCart);\n    }, []);\n\n\n\n\n\n    useEffect(() => { //!setItem\n        localStorage.setItem('cart', JSON.stringify(cart));\n    }, [cart]);\n\n    const addToCart = (item) => { //!add to cart\n        const existingItem = cart.find((cartItem) => cartItem.id === item.id);\n\n        if (existingItem) {\n            const updatedCart = cart.map((cartItem) =>\n                cartItem.id === item.id ? { ...cartItem, quantity: cartItem.quantity + 1 } : cartItem\n            );\n            setCart(updatedCart);\n        } else {\n            const updatedCart = [...cart, { ...item, quantity: 1 }];\n            setCart(updatedCart);\n        }\n    };\n\n\n\n    const handleAddToCart = (item) => {\n        const existingItem = cart.find((cartItem) => cartItem.id === item.id);\n\n        if (existingItem) {\n            setCart(cart.map((cartItem) => (cartItem.id === item.id ? { ...cartItem, quantity: cartItem.quantity + 1 } : cartItem)));\n        } else {\n            setCart([...cart, { ...item, quantity: 1 }]);\n        }\n    };\n\n    const setCartLength = () => {\n        // Calculate the cart length based on the updated cart state\n    };\n\n    const cartLength = cart.reduce((total, item) => total + item.quantity, 0);\n\n    return { handleAddToCart, setCartLength, setCart, cart, cartLength, addToCart, cartVisible, setCartVisible, setCart, setCartLength };\n};\n\nexport default useCart;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACM,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAIrDC,SAAS,CAAC,MAAM;IAAE;IACd,MAAMO,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;IAClEP,OAAO,CAACG,WAAW,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EAMNP,SAAS,CAAC,MAAM;IAAE;IACdU,YAAY,CAACE,OAAO,CAAC,MAAM,EAAEJ,IAAI,CAACK,SAAS,CAACV,IAAI,CAAC,CAAC;EACtD,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,MAAMW,SAAS,GAAIC,IAAI,IAAK;IAAE;IAC1B,MAAMC,YAAY,GAAGb,IAAI,CAACc,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IAErE,IAAIH,YAAY,EAAE;MACd,MAAMI,WAAW,GAAGjB,IAAI,CAACkB,GAAG,CAAEH,QAAQ,IAClCA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,GAAG;QAAE,GAAGD,QAAQ;QAAEI,QAAQ,EAAEJ,QAAQ,CAACI,QAAQ,GAAG;MAAE,CAAC,GAAGJ,QAAQ,CACxF;MACDd,OAAO,CAACgB,WAAW,CAAC;IACxB,CAAC,MAAM;MACH,MAAMA,WAAW,GAAG,CAAC,GAAGjB,IAAI,EAAE;QAAE,GAAGY,IAAI;QAAEO,QAAQ,EAAE;MAAE,CAAC,CAAC;MACvDlB,OAAO,CAACgB,WAAW,CAAC;IACxB;EACJ,CAAC;EAID,MAAMG,eAAe,GAAIR,IAAI,IAAK;IAC9B,MAAMC,YAAY,GAAGb,IAAI,CAACc,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,CAAC;IAErE,IAAIH,YAAY,EAAE;MACdZ,OAAO,CAACD,IAAI,CAACkB,GAAG,CAAEH,QAAQ,IAAMA,QAAQ,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,GAAG;QAAE,GAAGD,QAAQ;QAAEI,QAAQ,EAAEJ,QAAQ,CAACI,QAAQ,GAAG;MAAE,CAAC,GAAGJ,QAAS,CAAC,CAAC;IAC5H,CAAC,MAAM;MACHd,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE;QAAE,GAAGY,IAAI;QAAEO,QAAQ,EAAE;MAAE,CAAC,CAAC,CAAC;IAChD;EACJ,CAAC;EAED,MAAME,aAAa,GAAGA,CAAA,KAAM;IACxB;EAAA,CACH;EAED,MAAMC,UAAU,GAAGtB,IAAI,CAACuB,MAAM,CAAC,CAACC,KAAK,EAAEZ,IAAI,KAAKY,KAAK,GAAGZ,IAAI,CAACO,QAAQ,EAAE,CAAC,CAAC;EAEzE,OAAO;IAAEC,eAAe;IAAEC,aAAa;IAAEpB,OAAO;IAAED,IAAI;IAAEsB,UAAU;IAAEX,SAAS;IAAET,WAAW;IAAEC,cAAc;IAAEF,OAAO;IAAEoB;EAAc,CAAC;AACxI,CAAC;AAACtB,EAAA,CApDID,OAAO;AAsDb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}