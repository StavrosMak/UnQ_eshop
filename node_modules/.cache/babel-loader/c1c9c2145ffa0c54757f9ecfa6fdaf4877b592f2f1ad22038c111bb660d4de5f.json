{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nconst useAPI = initialUrl => {\n  _s();\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const fetchProducts = async url => {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  };\n  const handleCategoryChange = selectedCategories => {\n    setSelectedCategories(selectedCategories);\n  };\n  const getFilteredProducts = products => {\n    return selectedCategories.length > 0 && products ? products.filter(product => selectedCategories.includes(product.category)) : products && products.filter(product => [\"men's clothing\", \"women's clothing\", \"jewelry\"].includes(product.category));\n  };\n  return {\n    handleCategoryChange,\n    getFilteredProducts,\n    isLoading,\n    products: getFilteredProducts(products)\n  };\n};\n_s(useAPI, \"KmS+J5COdyZ7xuNCrRYNHKInTu4=\");\nexport default useAPI;","map":{"version":3,"names":["useState","useQuery","useAPI","initialUrl","_s","selectedCategories","setSelectedCategories","fetchProducts","url","response","fetch","data","json","handleCategoryChange","getFilteredProducts","products","length","filter","product","includes","category","isLoading"],"sources":["/home/stv/Documents/Web/React/ecommerce/src/CustomHooks/useAPI.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useQuery } from \"react-query\";\n\nconst useAPI = (initialUrl) => {\n  const [selectedCategories, setSelectedCategories] = useState([]);\n\n  const fetchProducts = async (url) => {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  };\n\n  const handleCategoryChange = (selectedCategories) => {\n    setSelectedCategories(selectedCategories);\n  };\n\n  const getFilteredProducts = (products) => {\n    return selectedCategories.length > 0 && products\n      ? products.filter((product) =>\n          selectedCategories.includes(product.category)\n        )\n      : products &&\n          products.filter((product) =>\n            [\"men's clothing\", \"women's clothing\", \"jewelry\"].includes(\n              product.category\n            )\n          );\n  };\n\n  return {\n    handleCategoryChange,\n    getFilteredProducts,\n    isLoading,\n    products: getFilteredProducts(products),\n  };\n};\n\nexport default useAPI;\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,QAAQ,QAAQ,aAAa;AAEtC,MAAMC,MAAM,GAAIC,UAAU,IAAK;EAAAC,EAAA;EAC7B,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAEhE,MAAMO,aAAa,GAAG,MAAOC,GAAG,IAAK;IACnC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;IACjC,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;IAClC,OAAOD,IAAI;EACb,CAAC;EAED,MAAME,oBAAoB,GAAIR,kBAAkB,IAAK;IACnDC,qBAAqB,CAACD,kBAAkB,CAAC;EAC3C,CAAC;EAED,MAAMS,mBAAmB,GAAIC,QAAQ,IAAK;IACxC,OAAOV,kBAAkB,CAACW,MAAM,GAAG,CAAC,IAAID,QAAQ,GAC5CA,QAAQ,CAACE,MAAM,CAAEC,OAAO,IACtBb,kBAAkB,CAACc,QAAQ,CAACD,OAAO,CAACE,QAAQ,CAAC,CAC9C,GACDL,QAAQ,IACNA,QAAQ,CAACE,MAAM,CAAEC,OAAO,IACtB,CAAC,gBAAgB,EAAE,kBAAkB,EAAE,SAAS,CAAC,CAACC,QAAQ,CACxDD,OAAO,CAACE,QAAQ,CACjB,CACF;EACT,CAAC;EAED,OAAO;IACLP,oBAAoB;IACpBC,mBAAmB;IACnBO,SAAS;IACTN,QAAQ,EAAED,mBAAmB,CAACC,QAAQ;EACxC,CAAC;AACH,CAAC;AAACX,EAAA,CAhCIF,MAAM;AAkCZ,eAAeA,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}